{"ast":null,"code":"import _slicedToArray from\"C:/Users/savin/Desktop/Codes/myGit/Book-library-updated/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useReducer,useEffect}from\"react\";import AppReducer from\"./AppReducer\";// initial state\nimport{jsx as _jsx}from\"react/jsx-runtime\";var initialState={wishlist:localStorage.getItem(\"wishlist\")?JSON.parse(localStorage.getItem(\"wishlist\")):[]};// create context\nexport var GlobalContext=/*#__PURE__*/createContext(initialState);// provider components\nexport var GlobalProvider=function GlobalProvider(props){var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(\"wishlist\",JSON.stringify(state.wishlist));},[state]);// actions\nvar addToWishlist=function addToWishlist(result){dispatch({type:\"ADD_TO_WISHLIST\",payload:result});};var removeFromWishlist=function removeFromWishlist(title){dispatch({type:\"REMOVE_FROM_WISHLIST\",payload:title});};return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{wishlist:state.wishlist,addToWishlist:addToWishlist,removeFromWishlist:removeFromWishlist},children:props.children});};","map":{"version":3,"sources":["C:/Users/savin/Desktop/Codes/myGit/Book-library-updated/my-app/src/context/GlobalState.js"],"names":["React","createContext","useReducer","useEffect","AppReducer","initialState","wishlist","localStorage","getItem","JSON","parse","GlobalContext","GlobalProvider","props","state","dispatch","setItem","stringify","addToWishlist","result","type","payload","removeFromWishlist","title","children"],"mappings":"qLAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,SAA3C,KAA4D,OAA5D,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAGA;2CACA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,QAAQ,CAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,EACNC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CADM,CAEN,EAHa,CAArB,CAME;AACF,MAAO,IAAMG,CAAAA,aAAa,cAAGV,aAAa,CAACI,YAAD,CAAnC,CAEP;AACA,MAAO,IAAMO,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CACvC,gBAA0BX,UAAU,CAACE,UAAD,CAAaC,YAAb,CAApC,4CAAOS,KAAP,iBAAcC,QAAd,iBACAZ,SAAS,CAAC,UAAM,CACdI,YAAY,CAACS,OAAb,CAAqB,UAArB,CAAiCP,IAAI,CAACQ,SAAL,CAAeH,KAAK,CAACR,QAArB,CAAjC,EAED,CAHQ,CAGN,CAACQ,KAAD,CAHM,CAAT,CAME;AACA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,MAAD,CAAY,CAC9BJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,iBAAR,CAA2BC,OAAO,CAAEF,MAApC,CAAD,CAAR,CACD,CAFH,CAGE,GAAMG,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CACpCR,QAAQ,CAAC,CAAEK,IAAI,CAAE,sBAAR,CAAgCC,OAAO,CAAEE,KAAzC,CAAD,CAAR,CACD,CAFD,CAGJ,mBACE,KAAC,aAAD,CAAe,QAAf,EACE,KAAK,CAAE,CACLjB,QAAQ,CAAEQ,KAAK,CAACR,QADX,CAELY,aAAa,CAAbA,aAFK,CAGLI,kBAAkB,CAAlBA,kBAHK,CADT,UASGT,KAAK,CAACW,QATT,EADF,CAaD,CA5BM","sourcesContent":["import React, { createContext, useReducer, useEffect } from \"react\";\r\nimport AppReducer from \"./AppReducer\";\r\n\r\n\r\n// initial state\r\nconst initialState = {\r\n    wishlist: localStorage.getItem(\"wishlist\")\r\n      ? JSON.parse(localStorage.getItem(\"wishlist\"))\r\n      : []\r\n   \r\n  };\r\n  // create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// provider components\r\nexport const GlobalProvider = (props) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n  useEffect(() => {\r\n    localStorage.setItem(\"wishlist\", JSON.stringify(state.wishlist));\r\n   \r\n  }, [state]);\r\n\r\n\r\n    // actions\r\n    const addToWishlist = (result) => {\r\n        dispatch({ type: \"ADD_TO_WISHLIST\", payload: result });\r\n      };\r\n      const removeFromWishlist = (title) => {\r\n        dispatch({ type: \"REMOVE_FROM_WISHLIST\", payload: title});\r\n      };\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        wishlist: state.wishlist,\r\n        addToWishlist,\r\n        removeFromWishlist\r\n\r\n        \r\n      }}\r\n    >\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}