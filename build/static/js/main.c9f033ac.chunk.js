(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{31:function(e,t,s){},40:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var c=s(0),i=s(11),n=s.n(i),a=s(13),r=s(2),l=(s(40),s(1)),o=function(){return Object(l.jsx)("header",{className:"NavBar",children:Object(l.jsxs)("div",{className:"links",children:[Object(l.jsx)(a.b,{className:"linkHome",to:"/",children:"My Library"}),Object(l.jsx)(a.b,{className:"linkWishList",to:"/wishlist",children:"Wish List"})]})})},d=s(9),j=s(34),u=s.n(j),h=(s(31),s(35)),b=s(15),O=function(e,t){switch(t.type){case"ADD_TO_WISHLIST":return Object(b.a)(Object(b.a)({},e),{},{wishlist:[t.payload].concat(Object(h.a)(e.wishlist))});case"REMOVE_FROM_WISHLIST":return Object(b.a)(Object(b.a)({},e),{},{wishlist:e.wishlist.filter((function(e){return e.volumeInfo.title!==t.payload}))});default:return e}},m={wishlist:localStorage.getItem("wishlist")?JSON.parse(localStorage.getItem("wishlist")):[]},x=Object(c.createContext)(m),f=function(e){var t=Object(c.useReducer)(O,m),s=Object(d.a)(t,2),i=s[0],n=s[1];Object(c.useEffect)((function(){localStorage.setItem("wishlist",JSON.stringify(i.wishlist))}),[i]);return Object(l.jsx)(x.Provider,{value:{wishlist:i.wishlist,addToWishlist:function(e){n({type:"ADD_TO_WISHLIST",payload:e})},removeFromWishlist:function(e){n({type:"REMOVE_FROM_WISHLIST",payload:e})}},children:e.children})},v=s(8);s(20),s(66),s(67);v.a.configure();var I=function(e){var t=e.showCard,s=e.closeCard,i=e.result,a=Object(c.useContext)(x).addToWishlist;return t?n.a.createPortal(Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"readMoreCardContainer",children:Object(l.jsxs)("div",{className:"readMoreCard",children:[Object(l.jsx)("div",{className:"readMoreImage",children:Object(l.jsx)("img",{src:i.volumeInfo.imageLinks.thumbnail,alt:"book pic"})}),Object(l.jsxs)("div",{className:"readMoreInfoContainer",children:[Object(l.jsxs)("div",{className:"readMoreInfoButton",children:[Object(l.jsxs)("div",{className:"readMoreInfo",children:[Object(l.jsx)("h3",{children:i.volumeInfo.title}),Object(l.jsx)("h4",{children:i.volumeInfo.authors}),Object(l.jsxs)("h5",{children:[" Rating:",i.volumeInfo.averageRating," "]})]}),Object(l.jsx)("div",{className:"readMoreClosingButton",children:Object(l.jsx)("button",{onClick:s,type:"button",name:"button",children:"X"})})]}),Object(l.jsx)("div",{className:"description",children:Object(l.jsx)("p",{children:i.volumeInfo.description})}),Object(l.jsx)("button",{onClick:function(){a(i),v.a.info("Added to wishlist!")},className:"addWishlistButton",children:" Add to a whishlist"})]})]})})}),document.getElementById("card")):null};v.a.configure();var N=function(e){var t=e.result,s=Object(c.useState)(!1),i=Object(d.a)(s,2),n=i[0],a=i[1],r=Object(c.useContext)(x),o=r.addToWishlist,j=!!r.wishlist.find((function(e){return e.id===t.id}));return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"cardContainer",children:[Object(l.jsx)("div",{className:"cardImage",children:Object(l.jsx)("img",{src:void 0===t.volumeInfo.imageLinks?"":"".concat(t.volumeInfo.imageLinks.thumbnail),alt:t.title})}),Object(l.jsxs)("div",{className:"cardInfo",children:[Object(l.jsx)("a",{children:t.volumeInfo.title}),Object(l.jsx)("h5",{children:t.volumeInfo.authors})]}),Object(l.jsxs)("div",{className:"cardButtons",children:[Object(l.jsx)("button",{className:"readMoreButton",onClick:function(){a((function(e){return!e}))},children:"Read more"}),Object(l.jsx)(I,{result:t,showCard:n,closeCard:function(){return a(!1)},setShowCard:a},t.title),Object(l.jsx)("button",{className:"addWhislistButton",disabled:j,onClick:function(){o(t),v.a.info("Added to wishlist!")},children:"Add to wishlist"})]})]})})},p=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),s=t[0],i=t[1],n=Object(c.useState)([]),a=Object(d.a)(n,2),r=a[0],o=a[1],j=Object(c.useState)("AIzaSyCr_GZNXUb9AUJKtAQn8-bF5J89RZFHc8E"),h=Object(d.a)(j,2),b=h[0],O=(h[1],function(){u.a.get("https://www.googleapis.com/books/v1/volumes?q="+s+"&key"+b+"&maxResults=12").then((function(e){e.errors?o([]):o(e.data.items)}))});return Object(c.useEffect)((function(){O()}),[s]),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"searchContainer",children:[Object(l.jsxs)("form",{className:"searchForm",children:[Object(l.jsx)("input",{className:"searchInput",value:s,onChange:function(e){e.preventDefault(),i(e.target.value)},type:"text",placeholder:"Search for books by title..."}),Object(l.jsx)("button",{className:"searchButton",onClick:O,children:"Search"})]}),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"grid",children:r.map((function(e){return Object(l.jsx)(N,{result:e},e.id)}))})})]})})},g=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(p,{})})};s(68);v.a.configure();var w=function(e){var t=e.result,s=(e.type,Object(c.useContext)(x)),i=s.removeFromWishlist;s.wishlist;return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"wishcardContainer",children:[Object(l.jsx)("div",{className:"cardImage",children:Object(l.jsx)("img",{src:void 0===t.volumeInfo.imageLinks?"":"".concat(t.volumeInfo.imageLinks.thumbnail),alt:t.title})}),Object(l.jsxs)("div",{className:"cardInfo",children:[Object(l.jsx)("a",{children:t.volumeInfo.title}),Object(l.jsx)("h5",{children:t.volumeInfo.authors})]}),Object(l.jsx)("div",{className:"wishlistcardButtons",children:Object(l.jsx)("button",{className:"deliteWishList",onClick:function(){i(t.volumeInfo.title),v.a.info("Removed from wishlist!")},children:"Remove."})})]})})},C=function(){var e=Object(c.useContext)(x),t=(e.addToWishlist,e.wishlist);return Object(l.jsx)("div",{className:"grid",children:t.map((function(e,t){return Object(l.jsx)(w,{result:e},t)}))})};var S=function(){return Object(l.jsx)(f,{children:Object(l.jsx)("div",{children:Object(l.jsxs)(a.a,{children:[Object(l.jsx)(o,{}),Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{exact:!0,path:"/",children:Object(l.jsx)(g,{})}),Object(l.jsx)(r.a,{exact:!0,path:"/wishlist",children:Object(l.jsx)(C,{})})]})]})})})};n.a.render(Object(l.jsx)(S,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.c9f033ac.chunk.js.map